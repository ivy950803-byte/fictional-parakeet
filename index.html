<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è­·ç†è‡¨åºŠå…¨èƒ½è¨ˆç®—æ¨¡æ“¬å™¨</title>
<style>
:root {
--primary: #2c3e50;
--accent: #3498db;
--danger: #e74c3c;
--success: #27ae60;
--bg: #f4f7f6;
}
body { font-family: -apple-system, "Segoe UI", Roboto, sans-serif; background: var(--bg); margin: 0; padding-top: 110px; padding-bottom: 40px; }

/* é ‚éƒ¨å›ºå®šç›®éŒ„ */
nav { position: fixed; top: 0; left: 0; width: 100%; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000; padding: 10px 0; }
.nav-container { display: flex; overflow-x: auto; padding: 5px 15px; gap: 10px; -webkit-overflow-scrolling: touch; }
.nav-container::-webkit-scrollbar { display: none; }
nav a { background: #fff; border: 1.5px solid var(--accent); color: var(--accent); padding: 8px 18px; border-radius: 20px; text-decoration: none; white-space: nowrap; font-size: 14px; font-weight: bold; }
nav a:active { background: var(--accent); color: white; }

.container { max-width: 600px; margin: auto; padding: 0 15px; }
.card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 25px; scroll-margin-top: 120px; }
h2 { margin: 0 0 15px 0; font-size: 1.2rem; color: var(--primary); border-left: 5px solid var(--accent); padding-left: 10px; }

.row { display: flex; gap: 10px; margin-bottom: 12px; }
.col { flex: 1; }
label { display: block; font-size: 0.85rem; color: #666; margin-bottom: 5px; }
input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; background: #fff; }

/* ç‡’å‚·é»é¸ç¶²æ ¼ */
.burn-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin: 15px 0; }
.burn-part { padding: 10px; background: #f8f9fa; border: 1px solid #ddd; border-radius: 8px; text-align: center; cursor: pointer; font-size: 0.85rem; }
.burn-part.selected { background: var(--danger); color: white; border-color: #c0392b; font-weight: bold; }

.result { margin-top: 15px; padding: 15px; background: #ebf5fb; border-left: 5px solid var(--accent); border-radius: 4px; color: #333; font-weight: bold; line-height: 1.6; }
.result b { color: var(--danger); font-size: 1.1rem; }

.warning { font-size: 0.8rem; color: #95a5a6; text-align: center; margin: 30px 0; line-height: 1.5; }
html { scroll-behavior: smooth; }
</style>
</head>
<body>

<nav>
<div class="nav-container">
<a href="#burn-section">ğŸ”¥ ç‡’å‚·é¢ç©</a>
<a href="#iv-section">ğŸ’§ é»æ»´æµé€Ÿ</a>
<a href="#drug-section">ğŸ’Š è—¥ç‰©/éˆ£</a>
<a href="#basic-section">âš–ï¸ BMI/MAP</a>
<a href="#renal-section">ğŸ§ª è…åŠŸèƒ½</a>
<a href="#gcs-section">ğŸ§  GCS è©•åˆ†</a>
<a href="#ob-section">ğŸ‘¶ é ç”¢æœŸ</a>
</div>
</nav>

<div class="container">

<section id="burn-section" class="card">
<h2>é»é¸å¼ç‡’ç‡™å‚· (Rule of Nines)</h2>
<p style="font-size: 0.8rem; color: #7f8c8d;">é»é¸å—å‚·éƒ¨ä½ï¼Œç³»çµ±å°‡è‡ªå‹•ç´¯åŠ  TBSAï¼š</p>
<div class="burn-grid">
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">é ­é ¸éƒ¨ (9%)</div>
<div class="burn-part" data-val="1" onclick="toggleBurn(this)">ç”Ÿæ®–éƒ¨ä½ (1%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">è»€å¹¹å‰-ä¸Š (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">è»€å¹¹å‰-ä¸‹ (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">è»€å¹¹å¾Œ-ä¸Š (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">è»€å¹¹å¾Œ-ä¸‹ (9%)</div>
<div class="burn-part" data-val="4.5" onclick="toggleBurn(this)">å·¦æ‰‹å‰å´ (4.5%)</div>
<div class="burn-part" data-val="4.5" onclick="toggleBurn(this)">å·¦æ‰‹å¾Œå´ (4.5%)</div>
<div class="burn-part" data-val="4.5" onclick="toggleBurn(this)">å³æ‰‹å‰å´ (4.5%)</div>
<div class="burn-part" data-val="4.5" onclick="toggleBurn(this)">å³æ‰‹å¾Œå´ (4.5%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">å·¦è…³å‰å´ (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">å·¦è…³å¾Œå´ (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">å³è…³å‰å´ (9%)</div>
<div class="burn-part" data-val="9" onclick="toggleBurn(this)">å³è…³å¾Œå´ (9%)</div>
</div>
<div class="row">
<div class="col"><label>é«”é‡ (kg)</label><input type="number" id="burnW" placeholder="è¨ˆç®—è£œæ¶²ç”¨" oninput="calcParkland()"></div>
<div class="col"><label>ç•¶å‰ TBSA %</label><input type="number" id="burnP" readonly></div>
</div>
<div id="burnRes" class="result">è«‹é»é¸éƒ¨ä½ä¸¦è¼¸å…¥é«”é‡...</div>
</section>


<section id="iv-section" class="card">
<h2>IV é»æ»´æµé€Ÿè¨ˆç®—</h2>
<div class="row">
<div class="col"><label>ç¸½é‡ (ml)</label><input type="number" id="ivV" oninput="calcIV()"></div>
<div class="col"><label>æ™‚é–“ (hr)</label><input type="number" id="ivH" oninput="calcIV()"></div>
</div>
<label>æ»´ä¿‚æ•¸ (gtt/ml)</label>
<select id="ivF" onchange="calcIV()">
<option value="20">20 (æ™®é€šè¼¸æ¶²å¥—)</option>
<option value="15">15 (æ™®é€šè¼¸æ¶²å¥—)</option>
<option value="60">60 (ç²¾å¯†å¾®é‡å¥—)</option>
</select>
<div id="ivRes" class="result">çµæœé¡¯ç¤ºè™•...</div>
</section>

<section id="drug-section" class="card">
<h2>è—¥ç‰©åŠ‘é‡èˆ‡æ ¡æ­£éˆ£</h2>
<div style="border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px;">
<label>é†«å›‘åŠ‘é‡ (mg) / ç¾æœ‰åŠ‘é‡ (mg) / é«”ç© (ml)</label>
<div class="row">
<input type="number" id="dO" placeholder="Order" oninput="calcMed()">
<input type="number" id="dH" placeholder="Have" oninput="calcMed()">
<input type="number" id="dV" placeholder="ml" oninput="calcMed()">
</div>
<div id="medRes" style="color: var(--accent); font-weight: bold; font-size: 0.9rem;">æ‡‰æŠ½: -- ml</div>
</div>
<div>
<label>æ ¡æ­£éˆ£ (Albumin < 4.0 æ™‚ä½¿ç”¨)</label>
<div class="row">
<input type="number" id="cCa" step="0.1" placeholder="Ca (mg/dL)" oninput="calcCorrCa()">
<input type="number" id="cAlb" step="0.1" placeholder="Alb (g/dL)" oninput="calcCorrCa()">
</div>
<div id="caRes" style="color: var(--accent); font-weight: bold; font-size: 0.9rem;">æ ¡æ­£å€¼: -- mg/dL</div>
</div>
</section>

<section id="basic-section" class="card">
<h2>BMI èˆ‡ MAP è¨ˆç®—</h2>
<div class="row">
<div class="col"><label>èº«é«˜ (cm)</label><input type="number" id="h" oninput="calcBasic()"></div>
<div class="col"><label>é«”é‡ (kg)</label><input type="number" id="w" oninput="calcBasic()"></div>
</div>
<div class="row">
<div class="col"><label>æ”¶ç¸®å£“ (SBP)</label><input type="number" id="sbp" oninput="calcBasic()"></div>
<div class="col"><label>èˆ’å¼µå£“ (DBP)</label><input type="number" id="dbp" oninput="calcBasic()"></div>
</div>
<div id="basicRes" class="result">çµæœé¡¯ç¤ºè™•...</div>
</section>

<section id="renal-section" class="card">
<h2>è…åŠŸèƒ½è©•ä¼°</h2>
<div class="row">
<div class="col"><label>å¹´é½¡</label><input type="number" id="rA" oninput="calcRenal()"></div>
<div class="col"><label>Cr (mg/dL)</label><input type="number" id="rC" step="0.1" oninput="calcRenal()"></div>
<div class="col"><label>æ€§åˆ¥</label>
<select id="rS" onchange="calcRenal()"><option value="1">ç”·</option><option value="0.85">å¥³</option></select>
</div>
</div>
<div id="renalRes" class="result">eGFR: -- ml/min</div>
</section>

<section id="gcs-section" class="card">
<h2>GCS æ˜è¿·æŒ‡æ•¸è©•ä¼°</h2>
<label>E (çœçœ¼)</label>
<select id="gE" onchange="calcGCS()"><option value="4">4-è‡ªå‹•çœçœ¼</option><option value="3">3-è½å¾å‘¼å–š</option><option value="2">2-å—ç—›çœçœ¼</option><option value="1">1-ç„¡åæ‡‰</option></select>
<label>V (å£èª)</label>
<select id="gV" onchange="calcGCS()"><option value="5">5-å®šå‘åŠ›å¥½</option><option value="4">4-è¨€è«‡è¿·ç³Š</option><option value="3">3-è¨€ä¸åŠç¾©</option><option value="2">2-ç™¼å‡ºæ€ªè²</option><option value="1">1-ç„¡åæ‡‰</option></select>
<label>M (å‹•ä½œ)</label>
<select id="gM" onchange="calcGCS()"><option value="6">6-éµå¾å‹•ä½œ</option><option value="5">5-å—ç—›å®šä½</option><option value="4">4-å—ç—›ç¸®å›</option><option value="3">3-ç—›è¦ºç•°å¸¸å±ˆæ›²</option><option value="2">2-ç—›è¦ºç•°å¸¸ä¼¸å±•</option><option value="1">1-ç„¡åæ‡‰</option></select>
<div id="gcsRes" class="result">ç¸½åˆ†: E4V5M6 (15åˆ†)</div>
</section>

<section id="ob-section" class="card">
<h2>EDC é ç”¢æœŸè¨ˆç®—</h2>
<label>æœ€å¾Œä¸€æ¬¡æœˆç¶“ç¬¬ä¸€å¤© (LMP)</label>
<input type="date" id="lmp" onchange="calcEDC()">
<div id="edcRes" class="result">é ç”¢æœŸ: --</div>
</section>

<p class="warning">âš ï¸ <b>å…è²¬è²æ˜ï¼š</b><br>æœ¬å·¥å…·è¨ˆç®—çµæœåƒ…ä¾›è‡¨åºŠåƒè€ƒã€‚ä»»ä½•é†«ç™‚æ±ºç­–æ‡‰ä¾é†«å›‘ç‚ºæº–ï¼Œä¸¦ç¶“ç”±å…©ååˆæ ¼é†«è­·äººå“¡æ ¸å°ã€‚ä½œè€…ä¸æ‰¿æ“”ä»»ä½•å› ä½¿ç”¨æœ¬å·¥å…·ç”¢ç”Ÿçš„é†«ç™‚é¢¨éšªã€‚</p>
</div>

<script>
let tbsa = 0;
function toggleBurn(el) {
let val = parseFloat(el.getAttribute('data-val'));
el.classList.toggle('selected');
tbsa += el.classList.contains('selected') ? val : -val;
document.getElementById('burnP').value = tbsa;
calcParkland();
}

function calcParkland() {
let w = document.getElementById('burnW').value;
let p = tbsa;
let res = document.getElementById('burnRes');
if(w > 0 && p > 0) {
let total = 4 * w * p;
res.innerHTML = `24h è£œæ¶²ç¸½é‡: <b>${total} ml</b><br>å‰ 8h: ${total/2} ml (${(total/16).toFixed(0)} gtt/min@20gtt)<br>å¾Œ 16h: ${total/2} ml`;
} else { res.innerText = "è«‹é¸å–éƒ¨ä½ä¸¦è¼¸å…¥é«”é‡"; }
}

function calcIV() {
let v = document.getElementById('ivV').value;
let h = document.getElementById('ivH').value;
let f = document.getElementById('ivF').value;
if(v && h) {
let g = Math.round((v*f)/(h*60));
document.getElementById('ivRes').innerHTML = `æ»´é€Ÿ: <b>${g} gtt/min</b><br>æµé€Ÿ: ${(v/h).toFixed(1)} ml/hr`;
}
}

function calcMed() {
let o = document.getElementById('dO').value;
let h = document.getElementById('dH').value;
let v = document.getElementById('dV').value;
if(o && h && v) document.getElementById('medRes').innerText = `æ‡‰æŠ½: ${((o/h)*v).toFixed(2)} ml`;
}

function calcCorrCa() {
let ca = parseFloat(document.getElementById('cCa').value);
let alb = parseFloat(document.getElementById('cAlb').value);
if(ca && alb) document.getElementById('caRes').innerText = `æ ¡æ­£å€¼: ${(ca + 0.8*(4-alb)).toFixed(2)} mg/dL`;
}

function calcBasic() {
let height = document.getElementById('h').value / 100;
let weight = document.getElementById('w').value;
let sbp = parseFloat(document.getElementById('sbp').value);
let dbp = parseFloat(document.getElementById('dbp').value);
let out = "";
if(height && weight) out += `BMI: ${(weight/(height*height)).toFixed(1)}<br>`;
if(sbp && dbp) out += `MAP: ${((sbp + 2*dbp)/3).toFixed(1)} mmHg`;
document.getElementById('basicRes').innerHTML = out || "ç­‰å¾…è¼¸å…¥...";
}

function calcRenal() {
let a = document.getElementById('rA').value;
let c = document.getElementById('rC').value;
let w = document.getElementById('w').value;
let s = document.getElementById('rS').value;
if(a && c && w) document.getElementById('renalRes').innerText = `eGFR: ${(((140-a)*w)/(72*c)*s).toFixed(1)} ml/min`;
}

function calcGCS() {
let e = document.getElementById('gE').value;
let v = document.getElementById('gV').value;
let m = document.getElementById('gM').value;
document.getElementById('gcsRes').innerText = `ç¸½åˆ†: E${e}V${v}M${m} (${parseInt(e)+parseInt(v)+parseInt(m)}åˆ†)`;
}

function calcEDC() {
let l = new Date(document.getElementById('lmp').value);
if(!isNaN(l)) {
l.setMonth(l.getMonth() + 9);
l.setDate(l.getDate() + 7);
document.getElementById('edcRes').innerText = `é ç”¢æœŸ: ${l.getFullYear()}/${l.getMonth()+1}/${l.getDate()}`;
}
}
</script>
</body>
</html>